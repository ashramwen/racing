{"version":3,"sources":["Racing/canvas/Racing/Background.js","Racing/canvas/Racing/Timer.js","Racing/canvas/Racing/Car.js","Racing/canvas/Racing/index.js","Racing/canvas/Award/Background.js","Racing/canvas/Award/Car.js","Racing/canvas/Award/Scoreboard.js","Racing/canvas/Award/index.js","Racing/canvas/index.js","Racing/RacingComponent.js","Racing/index.js","RankingInput/RankingInputComponent.js","RankingInput/index.js","App.js","serviceWorker.js","index.js"],"names":["baseUrl","PixiPlugin","process","Background","finishing","bgContainer","PIXI","name","sky","from","cloud0","TilingSprite","y","cloud1","cloud2","cloud3","cloud4","building","ocean","water","grass","fence","boundary","boundary2","addChild","roadTilingSprite","scale","x","startingLine","startingLineSpeed","ticker","Ticker","add","tilePosition","ending","stop","TweenMax","to","pixi","ease","Power1","easeOut","start","finish","init","Timer","angle","timerContainer","antialias","timers","numbers","i","t","push","num","visible","mask","lineStyle","arc","circle","eclipse","initialTimer","Date","valueOf","go","setTimeout","delta","Math","floor","ind","initialCircleTimer","circleRun","clear","forEach","o","getRandomInt","min","max","ceil","random","Car","index","tween","moving","speed","_x","pow","carContainer","set","t1","t2","turbo","gearDelta","gear1Ticker","gear2Ticker","gearTickers","car","frontWheel","anchor","rearWheel","breaking","carCharging","onComplete","onStart","Back","easeInOut","delay","carShakingTicker","carDelta","wheelTicker","rotation","carMoving","MIN_X","MAX_SPEED","kill","Race","racingContainer","initialized","bg","timer","cars","ranking","carTicker","dark","beginFill","drawRect","endFill","alpha","filter","fade","spotlight","CARS_STATES","initialX","expectedX","expectedY","expectedScale","WIDTH","CROWN_POS","TEXT","keys","keyIndex","allCars","crowns","miku","window","addEventListener","e","keyCode","crown","number","fill","fontSize","fontFamily","text","removeChild","addChildAt","repeat","repeatDelay","onRepeat","_i","Scoreboard","scoreboardContainer","sprite","Award","awardContainer","scoreboard","App","race","app","width","height","backgroundColor","award","stage","view","destroy","Racing","pixiRef","React","createRef","verify","useCallback","standings","length","find","n","Number","isInteger","useEffect","current","appendChild","split","className","ref","RankingInputComponent","RankingInput","setRanking","useState","input","setInput","type","value","onChange","target","readOnly","onClick","sort","join","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.12c46cf4.chunk.js","sourcesContent":["import * as PIXI from 'pixi.js';\nimport { PixiPlugin, TweenMax, Power1 } from 'gsap/all';\n\n// eslint-disable-next-line no-unused-vars\nconst plugins = [PixiPlugin];\nconst baseUrl = `${process.env.PUBLIC_URL}/race/racing/scene/`;\n\nfunction Background() {\n  let finishing = false;\n\n  const bgContainer = new PIXI.Container();\n  bgContainer.name = 'Background';\n\n  const sky = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}sky.png`));\n\n  const cloud0 = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}cloud0.png`),\n    1150,\n    34\n  );\n  cloud0.y = 10;\n\n  const cloud1 = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}cloud1.png`),\n    1150,\n    29\n  );\n  cloud1.y = 41;\n\n  const cloud2 = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}cloud2.png`),\n    1150,\n    33\n  );\n  cloud2.y = 16;\n\n  const cloud3 = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}cloud3.png`),\n    1150,\n    34\n  );\n  cloud3.y = 22;\n\n  const cloud4 = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}cloud4.png`),\n    1150,\n    51\n  );\n  cloud4.y = 14;\n\n  const building = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}building.png`),\n    1150,\n    90\n  );\n  building.y = 27;\n\n  const ocean = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}ocean.png`));\n  ocean.y = 109;\n\n  const water = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}water.png`),\n    1150,\n    20\n  );\n  water.y = 112;\n\n  const grass = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}grass.png`),\n    1150,\n    65\n  );\n  grass.y = 85;\n\n  const fence = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}fence.png`),\n    1150,\n    25\n  );\n  fence.y = 145;\n\n  const boundary = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}boundary.png`),\n    1150,\n    4\n  );\n  boundary.y = 170;\n\n  const boundary2 = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}boundary2.png`),\n    1150,\n    6\n  );\n  boundary2.y = 624;\n  bgContainer.addChild(boundary2);\n\n  const roadTilingSprite = new PIXI.extras.TilingSprite(\n    PIXI.Texture.from(`${baseUrl}road.png`),\n    1150,\n    361\n  );\n  roadTilingSprite.y = 220;\n  roadTilingSprite.scale.x = 2;\n\n  const startingLine = new PIXI.Sprite(\n    PIXI.Texture.from(`${baseUrl}starting_line.png`)\n  );\n  startingLine.x = 900;\n  startingLine.y = 174;\n\n  bgContainer.addChild(\n    sky,\n    // cloud,\n    cloud0,\n    cloud1,\n    cloud2,\n    cloud3,\n    cloud4,\n    building,\n    ocean,\n    water,\n    grass,\n    fence,\n    roadTilingSprite,\n    startingLine,\n    boundary,\n    boundary2\n  );\n\n  let startingLineSpeed = 15;\n  const ticker = new PIXI.ticker.Ticker();\n  ticker.add(() => {\n    cloud0.tilePosition.x += 1.1;\n    cloud1.tilePosition.x += 1.2;\n    cloud2.tilePosition.x += 1.3;\n    cloud3.tilePosition.x += 1.4;\n    cloud4.tilePosition.x += 1.5;\n    building.tilePosition.x += 2;\n    water.tilePosition.x += 3;\n    grass.tilePosition.x += 10;\n    fence.tilePosition.x += 10;\n    boundary.tilePosition.x += 30;\n    boundary2.tilePosition.x += 30;\n    roadTilingSprite.tilePosition.x += 20;\n\n    if (finishing && startingLine.x >= -100) {\n      ending();\n    } else {\n      startingLine.x += startingLineSpeed;\n    }\n    if (finishing && startingLine.x >= 100) {\n      ticker.stop();\n    }\n  });\n\n  const ending = () => {\n    // TweenMax.to(building, 1, {\n    //   pixi: { tilePosition: { x: building.tilePosition.x + 10 } }\n    // });\n    // TweenMax.to(water, 1, {\n    //   pixi: { tilePosition: { x: water.tilePosition.x + 15 } }\n    // });\n    // TweenMax.to(grass, 1, {\n    //   pixi: { tilePosition: { x: grass.tilePosition.x + 50 } }\n    // });\n    // TweenMax.to(fence, 1, {\n    //   pixi: { tilePosition: { x: fence.tilePosition.x + 50 } }\n    // });\n    // TweenMax.to(boundary, 1, {\n    //   pixi: { tilePosition: { x: boundary.tilePosition.x + 150 } }\n    // });\n    // TweenMax.to(boundary2, 1, {\n    //   pixi: {\n    //     tilePosition: () => {\n    //       const tilePosition = { ...boundary2.tilePosition };\n    //       tilePosition.x += 150;\n    //       return tilePosition;\n    //     }\n    //   }\n    // });\n    // TweenMax.to(roadTilingSprite, 1, {\n    //   pixi: { tilePosition: { x: roadTilingSprite.tilePosition.x + 100 } }\n    // });\n    TweenMax.to(startingLine, 1, {\n      pixi: { x: startingLine.x + 150 },\n      ease: Power1.easeOut,\n    });\n  };\n\n  bgContainer.start = () => {\n    ticker.start();\n    finishing = false;\n    startingLineSpeed = 15;\n    startingLine.x = 900;\n  };\n\n  bgContainer.finish = () => {\n    finishing = true;\n    startingLineSpeed = 30;\n    startingLine.x = -8700;\n  };\n\n  bgContainer.init = () => {\n    ticker.stop();\n    finishing = false;\n    startingLineSpeed = 15;\n    startingLine.x = 900;\n  };\n\n  return bgContainer;\n}\n\nexport default Background;\n","import * as PIXI from 'pixi.js';\n\nconst baseUrl = `${process.env.PUBLIC_URL}/race/racing/timer/`;\n\nfunction Timer() {\n  let angle = 270;\n  const timerContainer = new PIXI.Container({\n    antialias: true,\n  });\n  timerContainer.name = 'Timer';\n\n  const timers = [];\n  const numbers = [];\n  for (let i = 0; i < 6; i++) {\n    const t = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}red${i}.png`));\n    t.x = 440;\n    timers.push(t);\n\n    const num = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}${i}.png`));\n    num.x = 546;\n    num.y = 265;\n    num.visible = false;\n    numbers.push(num);\n  }\n\n  const mask = new PIXI.Graphics();\n  mask.lineStyle(12, 0xff3300);\n  mask.arc(577, 315, 90, -90 * PIXI.DEG_TO_RAD, angle * PIXI.DEG_TO_RAD);\n\n  const circle = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}circle.png`));\n  circle.x = 485;\n  circle.y = 222;\n  circle.visible = false;\n  circle.mask = mask;\n\n  const eclipse = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}eclipse.png`));\n  eclipse.x = 485;\n  eclipse.y = 222;\n  eclipse.visible = false;\n\n  const start = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}start.png`));\n  start.x = 443;\n  start.y = 285;\n  start.visible = false;\n\n  timerContainer.addChild(...timers, eclipse, circle, mask, ...numbers, start);\n\n  timerContainer.start = () => {\n    numbers[5].visible = true;\n    circle.visible = true;\n    eclipse.visible = true;\n\n    let initialTimer = new Date().valueOf();\n    const go = () =>\n      setTimeout(() => {\n        const delta =\n          5 - Math.floor((new Date().valueOf() - initialTimer) / 1000);\n        for (let ind = 0; ind <= 6; ind++) {\n          numbers[ind] && (numbers[ind].visible = ind === delta);\n          timers[ind] && (timers[ind].visible = ind === delta);\n        }\n        if (delta === -1) {\n          eclipse.visible = false;\n          start.visible = true;\n          go();\n        } else if (delta < -1) {\n          eclipse.visible = false;\n          start.visible = false;\n        } else {\n          go();\n        }\n      }, 100);\n    go();\n\n    let initialCircleTimer = new Date().valueOf();\n    const circleRun = () =>\n      setTimeout(() => {\n        const delta = Math.floor(new Date().valueOf() - initialCircleTimer);\n        angle = -0.072 * delta + 270;\n        mask.clear();\n        mask.lineStyle(12, 0xff3300);\n        mask.arc(577, 315, 90, -90 * PIXI.DEG_TO_RAD, angle * PIXI.DEG_TO_RAD);\n        if (angle <= -90) {\n          circle.visible = false;\n        } else {\n          circleRun();\n        }\n      }, 10);\n    circleRun();\n  };\n\n  timerContainer.init = () => {\n    timers.forEach((o) => (o.visible = true));\n    numbers.forEach((o) => (o.visible = false));\n  };\n\n  return timerContainer;\n}\n\nexport default Timer;\n","import * as PIXI from 'pixi.js';\n\nimport { PixiPlugin, TweenMax, Back } from 'gsap/all';\n\n// eslint-disable-next-line no-unused-vars\nconst plugins = [PixiPlugin];\n\nconst baseUrl = `${process.env.PUBLIC_URL}/race/racing/car/`;\n\nconst MIN_X = 600;\nconst MAX_X = 850;\n\nconst LAST_MIN_X = 550;\nconst LAST_MAX_X = 700;\n\nconst MAX_SPEED = 4;\nconst MIN_SPEED = 8;\n\nconst getRandomInt = (min = MIN_X, max = MAX_X) => {\n  min = Math.ceil(min);\n  max = Math.floor(max);\n  return Math.floor(Math.random() * (max - min)) + min;\n};\n\n/**\n *\n *\n * @param {*} index\n * @returns\n */\nfunction Car(index) {\n  let moving = Math.random() >= 0.5;\n  let speed = getRandomInt(MAX_SPEED, MIN_SPEED);\n  let _x = getRandomInt();\n  let tween;\n\n  const pow = Math.pow(0.98, 10 - index);\n\n  const carContainer = new PIXI.Container({\n    antialias: true,\n  });\n  carContainer.name = `Car${index}`;\n  carContainer.x = 1000 - index * 5.5;\n  carContainer.y = index * 45 + 170;\n  // carContainer.y = i * 46 + (moving ? 165 : 163);\n\n  const t = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}turbo0.png`));\n  t.scale.set(pow, pow);\n  t.x = 151 * pow;\n  t.y = 25 * pow;\n  t.visible = false;\n\n  const t1 = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}turbo1.png`));\n  t1.scale.set(pow, pow);\n  t1.x = 151 * pow;\n  t1.y = 25 * pow;\n  t1.visible = false;\n\n  const t2 = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}turbo2.png`));\n  t2.scale.set(pow, pow);\n  t2.x = 148 * pow;\n  t2.y = 22 * pow;\n  t2.visible = false;\n  const turbo = [t, t1, t2];\n\n  let gearDelta = 0;\n  const gearSpeed = 6;\n  const gear1Ticker = new PIXI.ticker.Ticker();\n  gear1Ticker.add(() => {\n    if (gearDelta === gearSpeed) {\n      gearDelta = 0;\n      t.visible = true;\n      t1.visible = !t1.visible;\n    } else {\n      gearDelta++;\n    }\n  });\n\n  const gear2Ticker = new PIXI.ticker.Ticker();\n  gear2Ticker.add(() => {\n    if (gearDelta === gearSpeed) {\n      gearDelta = 0;\n      t1.visible = true;\n      t2.visible = !t2.visible;\n    } else {\n      gearDelta++;\n    }\n  });\n  const gearTickers = [gear1Ticker, gear2Ticker];\n\n  const car = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}car${index}.png`));\n  car.scale.set(pow, pow);\n\n  const frontWheel = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}wheel.png`));\n  frontWheel.anchor.set(0.49);\n  frontWheel.scale.set(pow, pow);\n  frontWheel.x = 38 * pow;\n  frontWheel.y = 25 * pow;\n\n  const rearWheel = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}wheel.png`));\n  rearWheel.anchor.set(0.49);\n  rearWheel.scale.set(pow, pow);\n  rearWheel.x = 130 * pow;\n  rearWheel.y = 25 * pow;\n\n  carContainer.addChild(\n    turbo[0],\n    turbo[1],\n    turbo[2],\n    car,\n    frontWheel,\n    rearWheel\n  );\n\n  const breaking = () => {\n    turbo.forEach((o) => (o.visible = false));\n    gearTickers.forEach((o) => o.stop());\n  };\n\n  /**\n   * carCharging animation\n   *\n   * @param {*} x\n   * @param {*} speed\n   * @param {*} onComplete\n   * @param {*} onStart\n   * @param {*} ease\n   * @param {*} delay\n   * @returns TweenMax\n   */\n  const carCharging = (\n    x,\n    speed,\n    onComplete,\n    onStart,\n    ease = Back.easeInOut,\n    delay = 0\n  ) => {\n    return new TweenMax(carContainer, speed, {\n      pixi: { x },\n      ease,\n      onComplete,\n      onStart,\n      delay,\n    });\n  };\n\n  const carMoving = () => {\n    const onStart = () => {\n      breaking();\n      const delta = carContainer.x - _x;\n      if (delta > 0) {\n        if (_x < MIN_X + 100 || speed === MAX_SPEED) {\n          gear2Ticker.start();\n        } else if (_x < MIN_X + 200 || speed === MAX_SPEED + 1) {\n          gear1Ticker.start();\n        }\n      }\n    };\n\n    const onComplete = () => {\n      _x = getRandomInt();\n      speed = getRandomInt(MAX_SPEED, MIN_SPEED);\n\n      carMoving();\n    };\n\n    tween = carCharging(_x, speed, onComplete, onStart);\n  };\n\n  const carShakingTicker = new PIXI.ticker.Ticker();\n  let carDelta = 0;\n  carShakingTicker.add(() => {\n    if (carDelta < 5) {\n      carDelta++;\n    } else {\n      carDelta = 0;\n      car.y = car.y + (moving ? -1 : 1);\n      moving = !moving;\n    }\n  });\n\n  carShakingTicker.start();\n\n  const wheelTicker = new PIXI.ticker.Ticker();\n  wheelTicker.add(() => {\n    frontWheel.rotation -= 0.5;\n    rearWheel.rotation -= 0.5;\n  });\n\n  carContainer.start = () => {\n    carMoving();\n    wheelTicker.start();\n  };\n\n  carContainer.finish = ({ onComplete }) => {\n    tween.kill();\n    breaking();\n    // tween.kill();\n    // carCharging(-200, 0.4, null, () => gear2Ticker.start());\n\n    tween = carCharging(\n      getRandomInt(LAST_MIN_X, LAST_MAX_X),\n      5,\n      () => {\n        gear2Ticker.start();\n        tween = carCharging(\n          -200,\n          0.4,\n          () => {\n            onComplete && onComplete();\n          },\n          () => gear2Ticker.start(),\n          Back.easeOut,\n          1\n        );\n      },\n      () => gear1Ticker.start()\n    );\n  };\n\n  carContainer.stop = () => {\n    wheelTicker.stop();\n    carShakingTicker.stop();\n    tween.kill();\n    breaking();\n  };\n\n  carContainer.init = () => {\n    breaking();\n    wheelTicker.stop();\n    tween && tween.kill();\n    carContainer.x = 1000 - index * 5.5;\n  };\n\n  return carContainer;\n}\n\nexport default Car;\n","import * as PIXI from 'pixi.js';\nimport Background from './Background';\nimport Timer from './Timer';\nimport Car from './Car';\n\nfunction Race() {\n  const racingContainer = new PIXI.Container();\n  racingContainer.initialized = false;\n\n  const bg = new Background();\n  const timer = new Timer();\n\n  let cars = [];\n  for (let i = 0; i < 10; i++) {\n    const car = new Car(i);\n    cars.push(car);\n  }\n\n  racingContainer.addChild(bg, ...cars, timer);\n\n  racingContainer.start = () => {\n    timer.start();\n\n    let initialTimer = new Date().valueOf();\n    const go = () =>\n      setTimeout(() => {\n        const delta = Math.floor((new Date().valueOf() - initialTimer) / 1000);\n        if (delta >= 6) {\n          bg.start();\n          cars.forEach((o) => o.start());\n        } else {\n          go();\n        }\n      }, 100);\n    go();\n  };\n\n  racingContainer.finish = ({ ranking = [], onComplete }) => {\n    bg.finish();\n\n    let delta = 4;\n    let i = 0;\n    const carTicker = new PIXI.ticker.Ticker();\n    carTicker.add(() => {\n      const index = ranking[i] - 1;\n      if (delta < 2) {\n        delta++;\n      } else {\n        if (i === 9) {\n          cars[index].finish({ onComplete });\n          carTicker.stop();\n        } else {\n          cars[index].finish({});\n        }\n        delta = 0;\n        i++;\n      }\n    });\n    carTicker.start();\n  };\n\n  racingContainer.init = () => {\n    racingContainer.initialized = true;\n    bg.init();\n    timer.init();\n    cars.forEach((o) => o.init());\n  };\n\n  return racingContainer;\n}\n\nexport default Race;\n","import * as PIXI from 'pixi.js';\n\nconst baseUrl = `${process.env.PUBLIC_URL}/race/award/scene/`;\n\nfunction Background() {\n  const bgContainer = new PIXI.Container({\n    antialias: true,\n  });\n\n  const bg = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}bg.png`));\n\n  const dark = new PIXI.Graphics();\n  dark.beginFill(0x000000);\n  dark.drawRect(0, 0, 1150, 630);\n  dark.endFill();\n  dark.alpha = 0.7;\n  dark.visible = false;\n\n  const mask = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}mask_min.png`));\n  mask.visible = false;\n\n  const filter = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}filter.png`));\n  filter.visible = false;\n\n  bgContainer.addChild(bg, mask, filter);\n\n  bgContainer.init = () => {\n    mask.visible = false;\n    filter.visible = false;\n  };\n\n  bgContainer.fade = () => {\n    mask.visible = true;\n  };\n\n  bgContainer.spotlight = () => {\n    filter.visible = true;\n  };\n\n  return bgContainer;\n}\n\nexport default Background;\n","import * as PIXI from 'pixi.js';\nimport { PixiPlugin, TweenMax, Power1 } from 'gsap/all';\n\n// eslint-disable-next-line no-unused-vars\nconst plugins = [PixiPlugin];\n\nconst baseUrl = `${process.env.PUBLIC_URL}/race/award/car/`;\n\nconst WIDTH = 1150 / 2;\n\nconst CARS_STATES = [\n  {\n    initialX: WIDTH,\n    expectedX: WIDTH,\n    expectedY: 400,\n    expectedScale: 1,\n  },\n  {\n    initialX: WIDTH - 10,\n    expectedX: WIDTH - 300,\n    expectedY: 360,\n    expectedScale: 0.9,\n  },\n  {\n    initialX: WIDTH + 10,\n    expectedX: WIDTH + 280,\n    expectedY: 320,\n    expectedScale: 0.8,\n  },\n];\n\nconst CROWN_POS = [\n  {\n    x: WIDTH,\n    y: 225,\n  },\n  {\n    x: WIDTH - 300,\n    y: 200,\n  },\n  {\n    x: WIDTH + 280,\n    y: 170,\n  },\n];\n\nconst TEXT = ['冠军', '亚军', '季军'];\n\nfunction Car({ onComplete }) {\n  let keys = [38, 38, 40, 40, 37, 39, 37, 39, 65, 66, 65, 66];\n  let keyIndex = 0;\n  let end = false;\n\n  const carContainer = new PIXI.Container({\n    antialias: true,\n  });\n\n  let cars = [];\n  const allCars = [];\n  const crowns = [];\n  const numbers = [];\n\n  const miku = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}miku.png`));\n  miku.scale.set(0.5, 0.5);\n  miku.x = 170;\n  miku.y = 140;\n  miku.visible = false;\n\n  const showMiku = () => {\n    process.env.NODE_ENV !== 'production' && (miku.visible = true);\n  };\n\n  window.addEventListener(\n    'keydown',\n    (e) => {\n      if (e.keyCode === keys[keyIndex]) {\n        keyIndex++;\n      } else {\n        keyIndex = 0;\n      }\n      if (end && keyIndex === keys.length) {\n        showMiku();\n      }\n    },\n    false\n  );\n\n  for (let i = 0; i < 10; i++) {\n    const car = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}car${i}.png`));\n    car.anchor.set(0.5);\n    allCars.push(car);\n  }\n\n  for (let i = 0; i < 3; i++) {\n    const crown = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}crown${i}.png`));\n    crown.anchor.set(0.5);\n    crown.x = CROWN_POS[i].x;\n    crown.y = CROWN_POS[i].y;\n    crown.visible = false;\n    crowns.push(crown);\n\n    const number = new PIXI.Text(\n      '',\n      new PIXI.TextStyle({\n        fill: 0xffffff,\n        fontSize: 62,\n        fontFamily: 'Arial',\n      })\n    );\n    number.y = 10;\n    number.anchor.set(0.5);\n    numbers.push(number);\n\n    const text = new PIXI.Text(\n      TEXT[i],\n      new PIXI.TextStyle({\n        fill: 0xfae07c,\n        fontSize: 12,\n        fontFamily: 'PingFangSC-Regular',\n      })\n    );\n    text.y = -25;\n    text.anchor.set(0.5);\n\n    crown.addChild(number, text);\n  }\n\n  carContainer.addChild(...crowns, miku);\n\n  carContainer.init = (ranking = []) => {\n    miku.visible = false;\n    keyIndex = 0;\n    end = false;\n\n    cars.forEach((o) => carContainer.removeChild(o));\n    crowns.forEach((o) => (o.visible = false));\n    cars = [];\n    for (let i = 0; i < 3; i++) {\n      const car = allCars[+ranking[i] - 1];\n      car.x = CARS_STATES[i].initialX;\n      car.y = 220;\n      car.scale.set(0.1, 0.1);\n      cars.push(car);\n      carContainer.addChildAt(car, 0);\n\n      numbers[i].text = ranking[i];\n    }\n\n    go();\n  };\n\n  const go = () => {\n    let i = 0;\n    TweenMax.to(cars, 0.01, {\n      repeat: 3,\n      repeatDelay: 0.2,\n      onRepeat: () => {\n        const _i = i;\n        TweenMax.to(cars[i], 3, {\n          pixi: {\n            scale: CARS_STATES[i].expectedScale,\n            x: CARS_STATES[i].expectedX,\n            y: CARS_STATES[i].expectedY,\n          },\n          repeatDelay: 0.5,\n          ease: Power1.easeOut,\n          onComplete: () => {\n            TweenMax.to(cars[_i], 0.1, {\n              pixi: {\n                y: CARS_STATES[_i].expectedY - 2,\n              },\n            });\n          },\n        });\n        i++;\n      },\n      onComplete: () => {\n        TweenMax.set(crowns, {\n          delay: 3,\n          onStart: () => {\n            onComplete();\n            end = true;\n            if (end && keyIndex === keys.length) {\n              showMiku();\n            }\n          },\n        });\n      },\n    });\n  };\n\n  // carContainer.go = go;\n\n  carContainer.ranking = () => {\n    let i = 1;\n    crowns[0].visible = true;\n    TweenMax.to(crowns, 0.1, {\n      repeat: 2,\n      repeatDelay: 0.5,\n      onRepeat: () => {\n        crowns[i++].visible = true;\n      },\n    });\n  };\n\n  return carContainer;\n}\n\nexport default Car;\n","import * as PIXI from 'pixi.js';\nimport { PixiPlugin, TweenMax } from 'gsap/all';\n\n// eslint-disable-next-line no-unused-vars\nconst plugins = [PixiPlugin];\n\nconst baseUrl = `${process.env.PUBLIC_URL}/race/award/scene/`;\n\nfunction Scoreboard() {\n  const numbers = [];\n  const scoreboardContainer = new PIXI.Container();\n\n  const sprite = new PIXI.Sprite(PIXI.Texture.from(`${baseUrl}scoreboard.png`));\n  sprite.y = 630;\n\n  for (let i = 0; i < 10; i++) {\n    const number = new PIXI.Text(\n      '',\n      new PIXI.TextStyle({\n        fill: 0xffffff,\n        fontSize: 28,\n        fontFamily: 'Arial',\n      })\n    );\n    number.x = 466 + i * 54.95;\n    number.y = 40;\n    number.anchor.set(0.5);\n    numbers.push(number);\n  }\n  const text = new PIXI.Text(\n    '',\n    new PIXI.TextStyle({\n      fill: 0xffffff,\n      fontSize: 16,\n      fontFamily: 'PingFangSC-Regular',\n    })\n  );\n  text.x = 180;\n  text.y = 27;\n\n  sprite.addChild(text, ...numbers);\n\n  scoreboardContainer.addChild(sprite);\n\n  scoreboardContainer.init = (ranking) => {\n    sprite.y = 630;\n\n    text.text = `比賽結果`;\n\n    ranking.forEach((o, i) => {\n      numbers[i].text = o;\n    });\n  };\n\n  scoreboardContainer.go = () => {\n    TweenMax.to(sprite, 0.5, {\n      pixi: { y: 560 },\n    });\n  };\n\n  return scoreboardContainer;\n}\n\nexport default Scoreboard;\n","import * as PIXI from 'pixi.js';\nimport { PixiPlugin, TweenMax } from 'gsap/all';\n\nimport Background from './Background';\nimport Car from './Car';\nimport Scoreboard from './Scoreboard';\n\n// eslint-disable-next-line no-unused-vars\nconst plugins = [PixiPlugin];\n\nfunction Award() {\n  const awardContainer = new PIXI.Container();\n\n  const bg = new Background();\n\n  const onComplete = () => {\n    bg.fade();\n    TweenMax.set(bg, {\n      delay: 0.5,\n      onComplete: () => {\n        bg.spotlight();\n        car.ranking();\n      },\n    });\n    // TweenMax.set(bg, {\n    //   delay: 0.5,\n    //   onComplete: () => car.ranking(),\n    // });\n    TweenMax.set(bg, {\n      delay: 2,\n      onComplete: () => scoreboard.go(),\n    });\n  };\n\n  const car = new Car({ onComplete });\n\n  const scoreboard = new Scoreboard();\n\n  awardContainer.addChild(bg, car, scoreboard);\n\n  awardContainer.init = (ranking = []) => {\n    bg.init();\n    car.init(ranking);\n    scoreboard.init(ranking);\n  };\n\n  return awardContainer;\n}\n\nexport default Award;\n","import * as PIXI from 'pixi.js';\nimport Race from './Racing';\nimport Award from './Award';\n\nfunction App() {\n  const app = new PIXI.Application({\n    width: 1150,\n    height: 630,\n    backgroundColor: 0x222222,\n    // resolution: window.devicePixelRatio || 1,\n  });\n\n  const race = new Race();\n  const award = new Award();\n\n  award.visible = false;\n  app.stage.addChild(race, award);\n\n  const start = () => {\n    award.visible = false;\n    race.start();\n  };\n\n  const finish = (ranking = []) => {\n    race.finish({\n      ranking,\n      onComplete: () => {\n        award.visible = true;\n        award.init(ranking);\n      },\n    });\n  };\n\n  const init = () => {\n    award.visible = false;\n    race.init();\n  };\n\n  // award.init([10, 6, 2, 3, 4, 5, 1, 7, 8, 9], '20181203047');\n\n  return {\n    view: app.view,\n    init,\n    start,\n    finish,\n    initialized: () => race.initialized,\n    destroy: () => app.destroy(true),\n  };\n}\n\nexport default App;\n","import React, { useCallback, useEffect } from 'react';\nimport Race from './canvas';\n\nconst racingTime = 20000;\nlet race;\n\nconst RacingComponent = ({ ranking }) => {\n  const pixiRef = React.createRef();\n\n  const verify = useCallback((standings) => {\n    if (standings.length !== 10) return false;\n\n    return !standings.find((o) => {\n      const n = Number(o);\n      return !Number.isInteger(Number(n)) || n > 10 || n < 0;\n    });\n  }, []);\n\n  useEffect(() => {\n    if (!race) {\n      race = new Race();\n      pixiRef.current.appendChild(race.view);\n    }\n\n    return () => {\n      race.destroy();\n      race = null;\n    };\n  }, [pixiRef]);\n\n  useEffect(() => {\n    const standings = ranking?.split(',');\n    if (!verify(standings)) return;\n\n    race.init();\n    // if (race.initialized()) {\n    race.start();\n    setTimeout(() => race.finish(standings), racingTime);\n    // }\n    // 起跑，並在10秒後通過終點\n    // ex: canvasAPI.start({ prevWinNum: prevHistory.get('winNum) });\n  }, [verify, ranking]);\n\n  return (\n    <>\n      <div className=\"canvas\" ref={pixiRef} />\n    </>\n  );\n};\n\nexport default RacingComponent;\n","import Racing from './RacingComponent';\nexport default Racing;\n","import React, { useState } from 'react';\n\nconst numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nconst shuffleArray = (arr) => arr.sort(() => Math.random() - 0.5).join(',');\n\nfunction RankingInputComponent({ setRanking }) {\n  const [input, setInput] = useState('');\n\n  const handleChange = (e) => {\n    setInput(e.target.value);\n  };\n\n  const handleClick = () => {\n    const ranking = shuffleArray(numbers);\n    setInput(ranking);\n    setRanking(ranking);\n  };\n\n  return (\n    <div className=\"form\">\n      <input type=\"text\" value={input} onChange={handleChange} readOnly />\n      <button onClick={handleClick}>Go!</button>\n    </div>\n  );\n}\n\nexport default RankingInputComponent;\n","import RankingInput from './RankingInputComponent';\nexport default RankingInput;\n","import React, { useState } from 'react';\nimport Racing from './Racing';\nimport './App.scss';\nimport RankingInput from './RankingInput';\n\nfunction App() {\n  const [ranking, setRanking] = useState('');\n\n  return (\n    <div className=\"App\">\n      <Racing ranking={ranking} />\n\n      <RankingInput setRanking={setRanking} />\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}